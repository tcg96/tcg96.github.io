<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>How to set up Windows 10/11 on 2009 Mac with GeForce 9400M</title>
        <link href="style.css" rel="stylesheet" type="text/css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85225251-1', 'auto');
  ga('send', 'pageview');

    </script>
    <style type="text/css">
    table tr:first-child td, table tr td:first-child, table tr td a, table tr td a:visited {
        font-weight: bold;
        background-color: dimgray;
        color: white;
    }
    table {
        border-collapse: collapse;
    }
    td {
        border: 1px gray solid;
        padding: .5em;
        text-align: left;
    }
    </style>
    </head>
    <body>
        <div class="thecomputerguyninetysix">
        <h1>Windows 10/11 on an older Mac with full driver compatibility</h1>
        <hr/>
        <div class="text">
<p>It is not difficult to install, but it is difficult to get brightness adjustment working, <a href="https://youtu.be/3xsU7J45i5s" target="_blank">as shown in this YouTube video.</a> We do not want it stuck at the maximum. If you follow some steps, brightness adjustment will work.<br>The trick is to start up using <strong>legacy BIOS mode</strong> instead of EFI mode. EFI mode is usually better, but not this time. (Scroll to the end of this page if you are curious why)</p>
<p><a href="https://www.youtube.com/watch?v=AuOtTLdPC44" target="_blank">The setup process is demonstrated in this video</a>. This page is the written version.<br>The video and this page are centred around a 2009 Mac with Nvidia GeForce 9400M graphics, but this page is mostly valid for similarly-aged models as well (&tilde;2006-2012).</p>
<p>This is not just a Windows problem by the way. The same driver issues on these Macs can occur if you try to install Linux in EFI mode. But you do not need a full page to solve them. All you have to do is burn the ISO file of your distribution onto a DVD and boot to it: start up your Mac while holding down Alt or Option, and choose the option that says &quot;Windows&quot; (NOT &quot;EFI Boot&quot;). <a href="https://www.youtube.com/watch?v=35dl1PhCoqk" target="_blank">See this video on Linux Mint on the same old Mac</a>.</p>

<h3>A note about Windows 11 support</h3>
<p>Needless to say, this machine does not support Windows 11 officially, so installing in legacy mode does not make things any less supported. Security updates will arrive, but they will end eventually. <strong>Security updates have already ended for Windows 11 version 21H2 and 22H2.</strong> Windows 11 version 23H2 security updates end in November 2025, merely one month after Windows 10.<br>
Newer Windows 11 feature updates that include more security updates, like 24H2, 25H2 and so on, may not run at all because the kernel is updated to absolutely require a newer CPU from at least 2010.</p>
<p>In any case, if your computer does not meet the official Windows 11 requirements, you will have to install feature updates manually every year, or you will lose support just like Windows 10.<br>If you have Windows 11 version 22H2 on an unsupported computer (not just a Mac), and it is fully updated with Windows Update, you can get <a href="https://www.elevenforum.com/t/kb5027397-enablement-package-for-windows-11-version-23h2-feature-update.19372/" target="_blank">this enablement package</a> (x64 version) to update to version 23H2 (also shown in <a href="https://youtube.com/shorts/LZ4Xl2NjuDU" target="_blank">this short video</a>).</p>

<h3>Boot up the Windows 10/11 installer in legacy mode on a Mac</h3>
<p>Macs cannot boot up from USB flash drives in legacy mode, at least not directly. Why? Because it was not a common thing back when these machines were new. This means <strong>you need a CD or DVD for installation</strong>.
<br>If your Mac's internal optical drive is broken or not installed, you can use an external USB optical drive.
<p>Download the ISO file for <a href="https://www.microsoft.com/software-download/windows10" target="_blank">Windows 10</a> or <a href="https://www.microsoft.com/software-download/windows11" target="_blank">Windows 11</a>, then pick one of these two options:</p>

<h4>Option 1: with a DVD only</h4>
<ol>
<li>Burn the Windows ISO file to a dual-layer DVD&nbsp;R.</li>
<li>Start up your Mac while holding down Alt or Option. Insert your burned DVD if you haven't already.</li>
<li>Wait for your DVD to appear and then choose the &quot;Windows&quot; option. DO NOT choose &quot;EFI&nbsp;Boot&quot;.</li>
</ol>
<p>This option may not work with Windows 11 because the system requirements are not bypassed, but maybe you can <a href="https://www.tomshardware.com/how-to/bypass-windows-11-tpm-requirement" target="_blank">bypass them from the Windows installer after it has started.</a></p>

<h4>Option 2: with a CD and a flash drive</h4>
<ol>
<li>Using <a href="https://rufus.ie" target="_blank">Rufus</a> on a Windows computer, write the Windows ISO file to a USB flash drive in MBR mode (with system requirements bypass if using Windows 11).<br>
Alternatively, you can copy the Windows ISO file to a flash drive set up with <a href="https://www.ventoy.net" target="_blank">Ventoy</a>, as long as it was set up with MBR partition style.</li>
<li>Burn Plop Boot Manager to a CD or DVD (<a href="https://download.plop.at/files/bootmngr/plpbt-5.0.15.zip" target="_blank">download Plop from this zip file</a>, then extract and burn <code>plpbt.iso</code>. You don't need the other files).</li>
<li>Start up your Mac while holding down Alt or Option. Plug in your flash drive and insert your Plop CD if you haven't already.</li>
<li>Wait for your CD to appear and then choose the &quot;Windows&quot; option with CD icon. DO NOT choose &quot;EFI&nbsp;Boot&quot; or your flash drive.</li>
<li>Plop will start and show a menu on the top left. Select USB.</li>
</ol>
<p>If you're using a USB optical drive, unplug it before selecting USB. Only keep your flash drive plugged in once Plop has loaded.<br>If it gets stuck after selecting USB, restart and plug in your flash drive to a different USB port.<p>

<h3>Installation</h3>
<p>If the Windows boot screen and installer are not at your native display resolution (they look blurry and stretched), you've successfully booted up in legacy mode, so you can begin installation. If not (it looks nice and sharp), you're in EFI mode which is not correct in this case, so shut down and try again.</p>
<p>Install Windows as normal. Make sure you choose the right partition if dual-booting, or you will delete your other OS and data.<p>

<h3>Post-installation</h3>
<p>After installing the operating system you also have to install drivers and set up a few important things.<br>
It is recommended to stay disconnected from the Internet while following the first four steps.</p>
<ol>
<li>Download the Boot Camp 4.0 Windows support software from the Boot Camp Assistant app on Mac OS (save it to a flash drive).<br>
Alternatively, you can download it with <a href="https://github.com/timsutton/brigadier#brigadier" target="_blank">Brigadier</a> on a different Windows computer with Internet connection and command prompt. Example command for this Mac: <code>brigadier --model MacBookPro5,4</code> (similar models use the same files).</li>
<li>After downloading/extracting/copying the Windows support software to your Mac, right-click on the <code>setup</code> application and go to Properties (or click on it and press Alt+Enter or Option+Enter), and enable compatibility mode for Windows 7. Then install it.<br>When it asks to restart, DO NOT RESTART.</li>
<li>Go to the folder <code>\Windows\System32\Drivers</code> and replace <code>MacHALDriver.sys</code> with <a href="files/MacHALDriver.sys" target="_blank">this newer version.</a><br>Now you can restart.<br>(If you accidentally restarted before replacing this file, you can boot from a live USB drive of a Linux distribution, even in EFI mode, to replace the file.)</li>
<li>Update the Nvidia drivers to the newest compatible version, <a href="https://www.nvidia.com/Download/driverResults.aspx/112600/en-us/" target="_blank">342.01</a> for the GeForce 9400M and similar models (see the Supported Products list).</li>
<li style="text-align: left;">Open Regedit, go to <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Class\{4D36E968-E325-11CE-BFC1-08002BE10318}\0000</code>, create a DWORD 32-bit value called <code>EnableBrightnessControl</code> and set it to 1. <a href="files/EnableBrightnessControl.reg" target="_blank">(Or just download and install this registry key.)</a> This registry edit will have NO effect if you installed Windows in EFI mode on this Mac.<br>You may have to restart again.</li>
<li><a href="https://crystalidea.com/macs-fan-control" target="_blank">Download Macs Fan Control</a> and set it up to speed up the fan based on the temperature of CPU Proximity or CPU Diode. A good setting is to start speeding up the fan past 40°C, max speed at 80°C. If you do not set up this app adequately, your CPU will run too hot and it could damage your computer.<br>(It is also a good idea to use that program on Mac OS on any Intel Mac.)</li>
<li>(Optional) If in Device Manager you see a device called &quot;Coprocessor&quot; with missing driver, you can get it from here: <a href="files/NVIDIA nForce System Management Controller.zip" target="_blank">NVIDIA nForce System Management Controller</a>. Extract it, right-click on <code>oem35.inf</code> and select Install.</li>
<li>(Optional) <a href="https://github.com/imbushuo/mac-precision-touchpad/releases/latest" target="_blank">You can get improved trackpad drivers to meet Windows Precision Touchpad specifications.</a> Download the <code>amd64</code> version, extract it, right-click on <code>AmtPtpDevice.inf</code> and select Install.</li>
</ol>
<p>After installing any available Windows updates, your Windows installation on this older Mac should be ready to use.</p>
<p style="text-align: left;">If you are dual booting and the time keeps changing when switching between OSs, open Regedit, go to <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation</code>, create a DWORD 32-bit value called <code>RealTimeIsUniversal</code> and set it to 1. <a href="files/RealTimeIsUniversal.reg" target="_blank">(Or just download and install this registry key.)</a> This can be used on any computer with Windows dual boot.</p>
<h3>If the screen locks up, restart the video driver by pressing Shift+Ctrl+Cmd+B or Shift+Ctrl+Windows+B.</h3>
<p>Sometimes the whole computer may lock up when waking up from sleep or hibernate mode, requiring a reset. I have not found a solution to this.</p>

<h3>Trivia: Why legacy BIOS mode?</h3>
<p>Intel Macs have had EFI support since the very first one in 2006. That is how Mac OS starts up on them.<br>
To add the ability for Windows to be installed on them, Apple only took the older BIOS mode into consideration because <em>that was the only way back then</em>. The first consumer version of Windows to fully support EFI was Windows 8 from late 2012, the same year UEFI started to become common on non-Apple computers.<br>Newer Intel Macs do support Windows in EFI mode, but the older ones that do not, never got support for it.</p>
<p>While hardware drivers are supposed to work the same regardless of EFI or legacy mode, on particular hardware like Apple computers, even the smallest quirk can cause incompatibilities. That is why even though you can install Windows 10 on an older Mac in EFI mode from a flash drive like your average PC, it will have driver limitations such as no sound or no brightness adjustment. To avoid them, the OS must be installed in legacy mode from a CD or DVD, just like Apple envisioned when the machine was brand new.</p>
<p>As an aside, using the Boot Camp Assistant application or not, makes no difference in how Windows is installed. Like the name says, that app is just to assist you with the Windows installation and getting drivers.</p>

<h3></h3>
<p>If you have any feedback, <a href="https://www.youtube.com/watch?v=AuOtTLdPC44" target="_blank">comment on my YouTube video.</a></p>
<p></p>
        <p id="bottom"><em>TheComputerGuy96</em><br>Last updated on 5 Sep 2025</p>
        </div>
        </div>
    </body>
</html>
